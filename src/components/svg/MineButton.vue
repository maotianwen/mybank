<template>
  <div class="mine-btn" :class="{ active: $store.state.menuIndex === 3 }">
    <svg
      viewBox="0 0 44 44"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      xmlns:xlink="http://www.w3.org/1999/xlink"
    >
      <g stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
        <g transform="translate(-567.000000, -1533.000000)" fill-rule="nonzero">
          <g transform="translate(0.000000, 1511.000000)">
            <g transform="translate(563.000000, 22.000000)">
              <g transform="translate(4.000000, 0.000000)">
                <path
                  d="M41.2523193,44 L41.2119834,43.6652121 C40.0930659,34.4129662 31.4749001,26.884676 22,26.884676 C12.5250999,26.884676 3.90693411,34.4121594 2.7888233,43.6652121 L2.74848741,44 L0.218620531,44 L0.263796715,43.5780866 C1.13908549,35.4197499 6.84903377,28.0665175 14.4725166,25.2825346 L14.7048513,25.1970225 L14.4967181,25.0631074 C10.5994646,22.5566353 8.27289061,18.3810642 8.27289061,13.8916798 C8.27289061,6.49165782 14.6879102,0 22,0 C29.3128965,0 35.7271094,6.49165782 35.7271094,13.8932933 C35.7271094,18.3818709 33.4005354,22.557442 29.5032819,25.0647208 L29.2951487,25.1986359 L29.5274834,25.284148 C37.1509662,28.0689377 42.8609145,35.4213634 43.7362033,43.5797001 L43.7813795,44 L41.2523193,44 Z M22,2.56294234 C16.3489421,2.56294234 10.8027575,8.17527777 10.8027575,13.8924865 C10.8027575,19.8613912 16.7143852,24.3217337 22,24.3217337 C27.2856148,24.3217337 33.1972425,19.8621979 33.1972425,13.8924865 C33.1972425,8.17527777 27.6510579,2.56294234 22,2.56294234 Z"
                  id="mine"
                ></path>
                <path
                  d="M22.1707185,20.6791667 C23.4040518,20.6791667 24.5373852,20.0791667 25.2040518,19.0458333 C25.4040518,18.7458333 25.3373852,18.3125 25.0040518,18.1125 C24.7040518,17.9125 24.2707185,17.9791667 24.0707185,18.3125 C23.6707185,18.9458333 22.9373852,19.3458333 22.1707185,19.3458333 C21.4040518,19.3458333 20.6707185,18.9458333 20.2373852,18.3125 C20.0373852,18.0125 19.6040519,17.9125 19.3040518,18.1125 C19.0040518,18.3125 18.9040518,18.7458333 19.1040518,19.0458333 C19.8040518,20.0791667 20.9373852,20.6791667 22.1707185,20.6791667"
                  class="mouth"
                  stroke="#EF3535"
                  stroke-width="0.1"
                  v-show="$store.state.menuIndex === 3"
                ></path>
                <path
                  d="M17,13 C18.1333333,13 19,12.1333333 19,11 C19,9.86666666 18.1333333,9 17,9 C15.8666667,9 15,9.86666666 15,11 C15,12.1333333 15.9333333,13 17,13"
                  class="eyes"
                ></path>
                <path
                  d="M29,11 C29,9.86666666 28.1333333,9 27,9 C25.8666667,9 25,9.86666666 25,11 C25,12.1333333 25.9333333,13 27,13 C28.1333333,13 29,12.1333333 29,11 Z"
                  class="eyes"
                ></path>
              </g>
            </g>
          </g>
        </g>
      </g>
    </svg>
    <p>我的</p>
  </div>
</template>

<script>
export default {
  name: 'MineButton'
};
</script>

<style lang="less" scoped>
.mine-btn {
  svg {
    width: 44px;
    height: 44px;
    #mine {
      fill: #000000;
    }
    .eyes {
      fill: #000000;
    }
    .mouth {
      stroke-dasharray: 4000;
    }
  }
  &.active {
    svg {
      #mine {
        fill: @my-blue;
      }
      .eyes {
        fill: @my-red;
      }
      .mouth {
        animation: paint 0.6s linear forwards;
      }
    }
    p {
      color: @my-blue;
    }
  }
}

@keyframes paint {
  0% {
    fill: transparent;
    stroke-dashoffset: 4000;
  }
  50% {
    stroke-dashoffset: 3982;
  }
  100% {
    stroke-dashoffset: 3982;
    fill: @my-red;
  }
}
</style>
